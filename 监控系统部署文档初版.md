运维监控项目部署文档：
---

##一、 python3.6离线安装

	　
		释放文件：
	tar -xvzf Python-3.6.7.tgz
		进入目录：
	cd Python-3.6.7/	
		添加配置：
	./configure --prefix=/usr/python
	./configure --enable-optimizations
		这里配置自己的安装目录，接下来编译源码：
	make
		执行安装：
	make install
		创建python3软连接
	ln -s /usr/python/bin/python3 /usr/bin/python3

	
##三、Django项目依赖离线安装


	1⃣️、新建一个site-packages文件夹，把python项目有需要的依赖包名称导出到site-packages下的
	requirements.txt中，然后  pip3 freeze > requirements.txt`


	2⃣️、下载python项目需要的所有的依赖包	：pip3 download -r requirements.txt`


	3⃣️、把site-packages文件夹复制到离线的机器上
	然后找到Linux安装的python3的目录，把site-packages文件下的requirements.txt
	放入/usr/python-3.6.4/bin（这是我安装python3的目录）

	4⃣️、cd /usr/python-3.6.4/bin，然后执行命令：
	pip3 install --no-index --find-links=/opt/site-packages -r 	requirements.txt
	到此系统就会自动安装项目需要的依赖包
	
##四、uwsgi离线安装

	tar zxvf uwsgi-2.0.18.tar.gz
	cd uwsgi-2.0.18.tar.gz
	python3 setup.py install
	
##五、uwsgi通过配置文件uwsgi.ini启动

	创建uwsgi的配置文件 uwsgi.ini，文件放哪里都可以
	按照一下相关配置对应配置好相关信息：

	[uwsgi]
	# Django项目目录
	chdir=/opt/django/service_manager
	# 指定项目的application
	module=service_manager.wsgi:application
	# 进程个数
	workers=5
	# 指定IP端口
	http=0.0.0.0:8080
	# 指定静态文件
	static-map=/static=/opt/django/service_manager/static
	# 启动uwsgi的用户名和用户组
	uid=root
	gid=root
	# 启用主进程
	master=true
	# 自动移除unix Socket和pid文件当服务停止的时候
	vacuum=true
	# 序列化接受的内容，如果可能的话
	thunder-lock=true
	# 启用线程
	enable-threads=true
	# 设置自中断时间
	harakiri=30
	# 设置缓冲
	post-buffering=4096
	# 设置日志目录
	daemonize=/opt/django/uwsgi.log
	
	
	通过which uwsgi命令找到uwsgi可执行命令的绝对路径
	/usr/local/bin/uwsgi
	
	cd 到第一步创建的uwsgi.ini 文件的目录执行一下命令：
	/usr/local/bin/uwsgi --ini uwsgi.ini
	
	
	输出结果为一下内容：表示服务启动成功！！！
	[uWSGI] getting INI configuration from uwsgi.ini
	[uwsgi-static] added mapping for /static => /opt/django/service_manager/static

	
